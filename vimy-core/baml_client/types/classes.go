// ----------------------------------------------------------------------------
//
//  Welcome to Baml! To use this generated code, please run the following:
//
//  $ go get github.com/boundaryml/baml
//
// ----------------------------------------------------------------------------

// This file was generated by BAML: please do not edit it. Instead, edit the
// BAML files and re-generate this code using: baml-cli generate
// You can install baml-cli with:
//  $ go install github.com/boundaryml/baml/baml-cli

package types

import (
	"fmt"

	baml "github.com/boundaryml/baml/engine/language_client_go/pkg"
	"github.com/boundaryml/baml/engine/language_client_go/pkg/cffi"
)

type Resume struct {
	Name       string   `json:"name"`
	Email      string   `json:"email"`
	Experience []string `json:"experience"`
	Skills     []string `json:"skills"`
}

func (c *Resume) Decode(holder *cffi.CFFIValueClass, typeMap baml.TypeMap) {
	typeName := holder.Name
	if typeName.Namespace != cffi.CFFITypeNamespace_TYPES {
		panic(fmt.Sprintf("expected cffi.CFFITypeNamespace_TYPES, got %s", string(typeName.Namespace.String())))
	}
	if typeName.Name != "Resume" {
		panic(fmt.Sprintf("expected Resume, got %s", typeName.Name))
	}

	for _, field := range holder.Fields {
		key := field.Key
		valueHolder := field.Value
		switch key {

		case "name":
			c.Name = baml.Decode(valueHolder).Interface().(string)

		case "email":
			c.Email = baml.Decode(valueHolder).Interface().(string)

		case "experience":
			c.Experience = baml.Decode(valueHolder).Interface().([]string)

		case "skills":
			c.Skills = baml.Decode(valueHolder).Interface().([]string)

		default:

			panic(fmt.Sprintf("unexpected field: %s in class Resume", key))

		}
	}

}

func (c Resume) Encode() (*cffi.HostValue, error) {
	fields := map[string]any{}

	fields["name"] = c.Name

	fields["email"] = c.Email

	fields["experience"] = c.Experience

	fields["skills"] = c.Skills

	return baml.EncodeClass("Resume", fields, nil)
}

func (c Resume) BamlTypeName() string {
	return "Resume"
}
